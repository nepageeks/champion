// ----------------------------------------------------------------------------
// markItUp! Universal MarkUp Engine, JQuery plugin
// v 1.1.7
// Dual licensed under the MIT and GPL licenses.
// ----------------------------------------------------------------------------
// Copyright (C) 2007-2010 Jay Salvat
// http://markitup.jaysalvat.com/
// ----------------------------------------------------------------------------
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('(3($){$.29.N=3(f,g){B k,v,A,K;v=A=K=8;k={D:\'\',14:\'\',Q:\'\',1d:\'\',1l:\'\',1D:l,2a:\'2b\',1m:\'~/32/15.1E\',1e:\'\',2c:\'2d\',1n:l,1F:\'\',1G:\'\',1H:{},1I:{},1J:{},1K:{},2e:[{}]};$.V(k,f,g);2(!k.Q){$(\'2f\').16(3(a,b){1L=$(b).W(0).2g.2h(/(.*)33\\.34(\\.35)?\\.2i$/);2(1L!==1M){k.Q=1L[1]}})}2(!k.1d){$(\'2f\').16(3(a,b){1N=$(b).W(0).2g.2h(/2j\\/(.*)1o.2i$/);2(1N!==1M){k.1d=k.Q+\'2j/\'+1N[1]}})}4 F.16(3(){B d,u,17,18,p,G,L,R,19,1p,w,2k,M,1a;d=$(F);u=F;17=[];1a=8;18=p=0;G=-1;k.1e=1f(k.1e);k.1m=1f(k.1m);3 1f(a,b){2(b){4 a.X(/("|\')~\\//g,"$1"+k.Q)}4 a.X(/^~\\//,k.Q)}3 2l(){D=\'\';14=\'\';2(k.D){D=\'D="\'+k.D+\'"\'}7 2(d.1O("D")){D=\'D="N\'+(d.1O("D").2m(0,1).36())+(d.1O("D").2m(1))+\'"\'}2(k.14){14=\'O="\'+k.14+\'"\'}d.1P(\'<z \'+14+\'></z>\');d.1P(\'<z \'+D+\' O="N"></z>\');d.1P(\'<z O="37"></z>\');d.2n("2o");19=$(\'<z O="38"></z>\').2p(d);$(1Q(k.2e)).1R(19);1p=$(\'<z O="39"></z>\').1S(d);2(k.1n===l&&$.Y.3a!==l){1n=$(\'<z O="3b"></z>\').1S(d).1g("1T",3(e){B h=d.2q(),y=e.2r,1q,1r;1q=3(e){d.1s("2q",3c.3d(20,e.2r+h-y)+"3e");4 8};1r=3(e){$("1E").1U("2s",1q).1U("2t",1r);4 8};$("1E").1g("2s",1q).1g("2t",1r)});1p.2u(1n)}d.2v(1V).3f(1V);d.1g("1W",3(e,a){2(a.1t!==8){W()}2(u===$.N.2w){Z(a)}});d.1h(3(){$.N.2w=F})}3 1Q(b){B c=$(\'<11></11>\'),i=0;$(\'C:2x > 11\',c).1s(\'3g\',\'q\');$.16(b,3(){B a=F,t=\'\',1u,C,j;1u=(a.1b)?(a.1X||\'\')+\' [3h+\'+a.1b+\']\':(a.1X||\'\');1b=(a.1b)?\'2y="\'+a.1b+\'"\':\'\';2(a.2z){C=$(\'<C O="3i">\'+(a.2z||\'\')+\'</C>\').1R(c)}7{i++;2A(j=17.6-1;j>=0;j--){t+=17[j]+"-"}C=$(\'<C O="2B 2B\'+t+(i)+\' \'+(a.3j||\'\')+\'"><a 3k="" \'+1b+\' 1u="\'+1u+\'">\'+(a.1X||\'\')+\'</a></C>\').1g("3l",3(){4 8}).2C(3(){4 8}).1T(3(){2(a.2D){3m(a.2D)()}2E(3(){Z(a)},1);4 8}).2x(3(){$(\'> 11\',F).3n();$(E).3o(\'2C\',3(){$(\'11 11\',19).2F()})},3(){$(\'> 11\',F).2F()}).1R(c);2(a.2G){17.3p(i);$(C).2n(\'3q\').2u(1Q(a.2G))}}});17.3r();4 c}3 2H(c){2(c){c=c.3s();c=c.X(/\\(\\!\\(([\\s\\S]*?)\\)\\!\\)/g,3(x,a){B b=a.1Y(\'|!|\');2(K===l){4(b[1]!==2I)?b[1]:b[0]}7{4(b[1]===2I)?"":b[0]}});c=c.X(/\\[\\!\\[([\\s\\S]*?)\\]\\!\\]/g,3(x,a){B b=a.1Y(\':!:\');2(1a===l){4 8}1Z=3t(b[0],(b[1])?b[1]:\'\');2(1Z===1M){1a=l}4 1Z});4 c}4""}3 H(a){2($.3u(a)){a=a(R)}4 2H(a)}3 1i(a){I=H(L.I);1c=H(L.1c);T=H(L.T);P=H(L.P);2(T!==""){q=I+T+P}7 2(m===\'\'&&1c!==\'\'){q=I+1c+P}7{q=I+(a||m)+P}4{q:q,I:I,T:T,1c:1c,P:P}}3 Z(a){B b,j,n,i;R=L=a;W();$.V(R,{1v:"",Q:k.Q,u:u,m:(m||\'\'),p:p,v:v,A:A,K:K});H(k.1F);H(L.1F);2(v===l&&A===l){H(L.3v)}$.V(R,{1v:1});2(v===l&&A===l){U=m.1Y(/\\r?\\n/);2A(j=0,n=U.6,i=0;i<n;i++){2($.3w(U[i])!==\'\'){$.V(R,{1v:++j,m:U[i]});U[i]=1i(U[i]).q}7{U[i]=""}}o={q:U.3x(\'\\n\')};12=p;b=o.q.6+(($.Y.21)?n:0)}7 2(v===l){o=1i(m);12=p+o.I.6;b=o.q.6-o.I.6-o.P.6;b-=1w(o.q)}7 2(A===l){o=1i(m);12=p;b=o.q.6;b-=1w(o.q)}7{o=1i(m);12=p+o.q.6;b=0;12-=1w(o.q)}2((m===\'\'&&o.T===\'\')){G+=22(o.q);12=p+o.I.6;b=o.q.6-o.I.6-o.P.6;G=d.J().1j(p,d.J().6).6;G-=22(d.J().1j(0,p))}$.V(R,{p:p,18:18});2(o.q!==m&&1a===8){2J(o.q);1o(12,b)}7{G=-1}W();$.V(R,{1v:\'\',m:m});2(v===l&&A===l){H(L.3y)}H(L.1G);H(k.1G);2(w&&k.1D){23()}A=K=v=1a=8}3 22(a){2($.Y.21){4 a.6-a.X(/\\n*/g,\'\').6}4 0}3 1w(a){2($.Y.2K){4 a.6-a.X(/\\r*/g,\'\').6}4 0}3 2J(a){2(E.m){B b=E.m.24();b.2L=a}7{d.J(d.J().1j(0,p)+a+d.J().1j(p+m.6,d.J().6))}}3 1o(a,b){2(u.2M){2($.Y.21&&$.Y.3z>=9.5&&b==0){4 8}1k=u.2M();1k.3A(l);1k.2N(\'25\',a);1k.3B(\'25\',b);1k.3C()}7 2(u.2O){u.2O(a,a+b)}u.1x=18;u.1h()}3 W(){u.1h();18=u.1x;2(E.m){m=E.m.24().2L;2($.Y.2K){B a=E.m.24(),1y=a.3D();1y.3E(u);p=-1;3F(1y.3G(a)){1y.2N(\'25\');p++}}7{p=u.2P}}7{p=u.2P;m=d.J().1j(p,u.3H)}4 m}3 15(){2(!w||w.3I){2(k.1l){w=3J.2Q(\'\',\'15\',k.1l)}7{M=$(\'<2R O="3K"></2R>\');2(k.2a==\'2b\'){M.1S(1p)}7{M.2p(19)}w=M[M.6-1].3L||3M[M.6-1]}$(\'.N .15 a\').1s("2S-2T",\'1z("\'+k.1d+\'2U/26.2V")\')}7{2(M){M.3N()}7{w.26()}w=M=8;$(\'.N .15 a\').1s("2S-2T",\'1z("\'+k.1d+\'2U/15.2V")\')}2(!k.1D){23()}}3 23(){2W()}3 2W(){B b;2(k.1e!==\'\'){$.2X({2Y:\'3O\',1z:k.1e,2d:k.2c+\'=\'+3P(d.J()),2Z:3(a){27(1f(a,1))}})}7{2(!2k){$.2X({1z:k.1m,2Z:3(a){27(1f(a,1).X(/<!-- 3Q -->/g,d.J()))}})}}4 8}3 27(a){2(w.E){3R{28=w.E.30.1x}3S(e){28=0}w.E.2Q();w.E.3T(a);w.E.26();w.E.30.1x=28}2(k.1l){w.1h()}}3 1V(e){A=e.A;K=e.K;v=(!(e.K&&e.v))?e.v:8;2(e.2Y===\'2v\'){2(v===l){C=$("a[2y="+3U.3V(e.1A)+"]",19).1B(\'C\');2(C.6!==0){v=8;2E(3(){C.3W(\'1T\')},1);4 8}}2(e.1A===13||e.1A===10){2(v===l){v=8;Z(k.1J);4 k.1J.1C}7 2(A===l){A=8;Z(k.1I);4 k.1I.1C}7{Z(k.1H);4 k.1H.1C}}2(e.1A===9){2(A==l||v==l||K==l){4 8}2(G!==-1){W();G=d.J().6-G;1o(G,0);G=-1;4 8}7{Z(k.1K);4 k.1K.1C}}}}2l()})};$.29.3X=3(){4 F.16(3(){B a=$(F).1U().3Y(\'2o\');a.1B(\'z\').1B(\'z.N\').1B(\'z\').T(a)})};$.N=3(a){B b={1t:8};$.V(b,a);2(b.1t){4 $(b.1t).16(3(){$(F).1h();$(F).31(\'1W\',[b])})}7{$(\'u\').31(\'1W\',[b])}}})(3Z);',62,248,'||if|function|return||length|else|false|||||||||||||true|selection||string|caretPosition|block||||textarea|ctrlKey|previewWindow|||div|shiftKey|var|li|id|document|this|caretOffset|prepare|openWith|val|altKey|clicked|iFrame|markItUp|class|closeWith|root|hash||replaceWith|lines|extend|get|replace|browser|markup||ul|start||nameSpace|preview|each|levels|scrollPosition|header|abort|key|placeHolder|setPath|previewParserPath|localize|bind|focus|build|substring|range|previewInWindow|previewTemplatePath|resizeHandle|set|footer|mouseMove|mouseUp|css|target|title|line|fixIeBug|scrollTop|rangeCopy|url|keyCode|parent|keepDefault|previewAutoRefresh|html|beforeInsert|afterInsert|onEnter|onShiftEnter|onCtrlEnter|onTab|miuScript|null|setScript|attr|wrap|dropMenus|appendTo|insertAfter|mousedown|unbind|keyPressed|insertion|name|split|value||opera|fixOperaBug|refreshPreview|createRange|character|close|writeInPreview|sp|fn|previewPosition|after|previewParserVar|data|markupSet|script|src|match|js|sets|template|init|substr|addClass|markItUpEditor|insertBefore|height|clientY|mousemove|mouseup|append|keydown|focused|hover|accesskey|separator|for|markItUpButton|click|call|setTimeout|hide|dropMenu|magicMarkups|undefined|insert|msie|text|createTextRange|moveStart|setSelectionRange|selectionStart|open|iframe|background|image|images|png|renderPreview|ajax|type|success|documentElement|trigger|templates|jquery|markitup|pack|toUpperCase|markItUpContainer|markItUpHeader|markItUpFooter|safari|markItUpResizeHandle|Math|max|px|keyup|display|Ctrl|markItUpSeparator|className|href|contextmenu|eval|show|one|push|markItUpDropMenu|pop|toString|prompt|isFunction|beforeMultiInsert|trim|join|afterMultiInsert|version|collapse|moveEnd|select|duplicate|moveToElementText|while|inRange|selectionEnd|closed|window|markItUpPreviewFrame|contentWindow|frame|remove|POST|encodeURIComponent|content|try|catch|write|String|fromCharCode|triggerHandler|markItUpRemove|removeClass|jQuery'.split('|'),0,{}))